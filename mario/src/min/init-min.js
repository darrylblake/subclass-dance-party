var Character=function(){Sprite.call(this)};Character.prototype=Object.create(Sprite.prototype),Character.prototype.constructor=Character,Character.prototype.CharacterCollisionHandling=function(t,o){};var Hero=function(t,o,e){this.$node=$('<div class="hero '+e+' stand"></div>'),Character.call(this),this.setPosition(t,o)};Hero.prototype=Object.create(Character.prototype),Hero.prototype.constructor=Hero,Hero.prototype.moveRight=function(t){var o=this.getPosition().x,e=this.getPosition().y;this.$node.removeClass("flip-v"),this.$node.toggleClass("step-one"),this.setPosition(o,e+10)},Hero.prototype.moveLeft=function(t){var o=this.getPosition().x,e=this.getPosition().y;this.$node.addClass("flip-v"),this.$node.toggleClass("step-one"),this.setPosition(o,e-10)},Hero.prototype.jump=function(t){var o=this.getPosition().x,e=this.getPosition().y;this.$node.animate({bottom:o+75},200).animate({bottom:o},100)};var Sprite=function(){this.x=0,this.y=0,this.setPosition.call(this,0,0)};Sprite.prototype.step=function(t){setTimeout(this.step.bind(this),t)},Sprite.prototype.setPosition=function(t,o){this.x=t,this.y=o,this.$node.css({bottom:this.x,left:this.y})},Sprite.prototype.getPosition=function(){var t={x:this.x,y:this.y};return t},window.player1=null,window.player2=null,window.enemy=null,$(document).ready(function(){function t(){for(var t in a)"39"===t&&player1.moveRight(),"37"===t&&player1.moveLeft(),"38"===t&&player1.jump(),"68"===t&&player2.moveRight(),"65"===t&&player2.moveLeft(),"87"===t&&player2.jump()}null===player1&&(window.player1=new Hero(128,100,"mario"),$("#stage").prepend(player1.$node)),null===player2&&(window.player2=new Hero(128,200,"luigi"),$("#stage").prepend(player2.$node));var o=$(window).width(),e=$(window).height(),n=function(){var t=Math.random()*e+128,n=Math.random()+o,i=500*Math.random()+250,r=["one","two","three"],a=r[Math.floor(3*Math.random())],s=new Cloud(t,n,a,i);$("#stage").prepend(s.$node)},i=function(){var t=new Enemy(128,Math.floor(Math.random()*o),"ghoomba");$("#stage").prepend(t.$node)};$(".ghoombaGenerator").on("click",function(){i()}),$(".cloudGenerator").on("click",function(){n()}),n(),n(),n(),n();var r=!1;$(".sound").on("click",function(){r===!1?($("#tune")[0].play(),r=!0):($("#tune")[0].pause(),r=!1)});var a={};$(document).keydown(function(o){a[o.which]=!0,t()}),$(document).keyup(function(o){delete a[o.which],t()});var s=function(t,o,e){var n=new Layout(t,o,e);$("#stage").prepend(n.$node)};s(128,300*Math.random()+200,"hill large"),s(128,200*Math.random()+100,"hill small"),s(128,o-200,"castle small"),s(256,256,"block brick"),s(256,320,"block brick"),s(256,384,"block coin"),s(128,-64,"shrub one"),s(128,o-256,"shrub two"),s(128,64,"pipe"),$(".startGame").on("click",function(t){})});